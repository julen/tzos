{% macro render_errors(field) %}
{% if field.errors %}
<ul class="errors">
    {% for error in field.errors %}
    <li>{{ error }}</li>
    {% endfor %}
</ul>
{% endif %}
{% endmacro %}

{% macro render_field(field) %}
{% if field.type == 'SubmitField' %}
<p class="fAction">
    {{ field(class="button") }}
</p>
{% else %}
    <li>
    {% if field.type == 'BooleanField' %}
        {{ field(class="in")|safe }}
        {{ field.label(class="in") }}
    {% else %}
        {{ field.label }}
        {{ render_errors(field) }}
        {{ field(**kwargs)|safe }}
    {% endif %}
    </li>
{% endif %}
{% endmacro %}

{% macro render_form(form, action='.') %}
<form method="POST" action="{{ action }}" class="f1">
    {{ form.hidden_tag() }}
    <ul>
        {% for field in form if not field.type == 'SubmitField' and
                                not field.type == 'HiddenField' %}
        {{ render_field(field, class="input") }}
        {% endfor %}
    </ul>
    {{ render_field(form.submit) }}
</form>
{% endmacro %}
