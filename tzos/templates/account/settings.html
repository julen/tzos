{% extends "layout.html" %}
{% from "macros/_forms.html" import render_field, render_form %}

{% block title %}{{ super() }}{{ _('Your account') }}{% endblock %}

{% block intro_title %}{{ _('Account settings') }}{% endblock %}
{% block intro_text %}{{ _('You can change the settings related to your account below.') }}{% endblock %}

{% block content %}
<div class="hTabs">
    <ul class="inlineTabs sideTabs">
        <li><a href="#edit_profile">{{ _("Public profile") }}</a></li>
        <li><a href="#edit_email">{{ _("Email address") }}</a></li>
        <li><a href="#edit_password">{{ _("Password") }}</a></li>
    </ul>

    <div id="edit_profile" class="tabContent">
    <form method="post" action="{{ url_for('account.settings', action='editprofile') }}" class="f1">
        {{ profileform.hidden_tag() }}
        <ul>
            {% for field in profileform if not field.type == 'SubmitField' and not field.type == 'HiddenField' %}
            {{ render_field(field, class="input") }}
            {% endfor %}
        </ul>
        <p>
            {{ profileform.submit(class="button") }}
        </p>
    </form>
    </div>

    <div id="edit_email" class="tabContent">
    {{ render_form(emailform, action=url_for('account.settings', action='editemail')) }}
    </div>

    <div id="edit_password" class="tabContent">
    {{ render_form(passwordform, action=url_for('account.settings', action='editpassword')) }}
    </div>
</div>
{% endblock %}
